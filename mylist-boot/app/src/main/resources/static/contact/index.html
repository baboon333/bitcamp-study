<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>연락처</title>
</head>
<body>
  <h1>연락처</h1>
  <a href="form.html">새 연락처</a>
  <table id="x-contact-table" border="1">
  <thead>
  <tr>
    <th>이름</th>
    <th>이메일</th>
    <th>전화</th>
    <th>회사</th>
  </tr>
  </thead>
  <tbody>
  </tbody>
  </table>

<script>
  var tbody = document.querySelector("#x-contact-table tbody");

  fetch("/contact/list")
    .then(function(response) {
      return response.json();  //json 형식의 문자열을 자바스크립트 객체로 바꿔라
    })
    .then(function(contacts) {
      for (var contact of contacts) {
        var values = contact.split(",");
        var tr = document.createElement("tr");
        tr.innerHTML = `<td><a href="view.html?email=${values[1]}">${values[0]}</a></td>
        <td>${values[1]}</td>
        <td>${values[2]}</td>
        <td>${values[3]}</td>`;
        tbody.appendChild(tr);
      }
    })
  //연락처 입력 구현
</script>






















</body>
</html>

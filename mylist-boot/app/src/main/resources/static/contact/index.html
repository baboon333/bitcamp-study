<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>연락처</title>
</head>
<body>
  <h1>연락처</h1>
  <a href="form.html">새 연락처</a>
  <table id="x-contact-table" border="1">
  <thead>
  <tr>
    <th>이름</th>
    <th>이메일</th>
    <th>전화</th>
    <th>회사</th>
  </tr>
  </thead>
  <tbody>
  </tbody>
  </table>

<script>
  var tbody = document.querySelector("#x-contact-table tbody");

  fetch("/contact/list")
    .then(function(response) {
      return response.json();  //json 형식의 문자열을 자바스크립트 객체로 바꿔라 //서버에서 받은 json 형식의 문자열을 js 객체로 전환하여 다룬다.
    })
    .then(function(contacts) {
      for (var contact of contacts) {
        var tr = document.createElement("tr");
        tr.innerHTML = `<td><a href="view.html?email=${contact.email}">${contact.name}</a></td>
        <td>${contact.email}</td>
        <td>${contact.tel}</td>
        <td>${contact.company}</td>`;
        tbody.appendChild(tr);
      }
    })
  //연락처 입력 구현
</script>






















</body>
</html>

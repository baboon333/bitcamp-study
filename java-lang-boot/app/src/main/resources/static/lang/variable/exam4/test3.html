<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>변수 활용</title>
</head>
<body>

<h1>배열 다루기</h1>
<a href="/lang/variable/exam4/test3">서버에 요청하기</a>
<button type="button" id="x-btn">배열 가져오기</button>
<ul id="x-namelist">  <!-- unordered list  / li는 list item이다-->
</ul>

<script>
  var xNamelist = document.querySelector("#x-namelist");
  var xBtn = document.querySelector("#x-btn");

  xBtn.addEventListener("click", function() {
	  // 현재 요청한 자원의 경로를 기준으로 상대 경로를 지정하는 것이 유지보수에 더 좋다. (2021.12.08 - 12시 5분)
	  // => 절대 경로: /로 시작하는 경우
	  //    상대 경로: /로 시작하지 않는 경우 (url 앞에)
	  // => 상대 경로일 경우 
	  //    요청하는 실제 경로는 현재 자원의 경로를 기준으로 계산한다.  (현재 html을 기준으로 하기 때문에)
	  
	  fetch("test3")  // /lang/variable/exam4/test3 장소가 같으면 /lang/variable/exam4/는 생략할 수 있음!! 이 url로 요청하라
      .then(function(response) {
        return response.json();   //그 다음 then에게 return한다  //json 문자열을 파싱해서 자바 ~로 바꾸고 (11시 47분)
      })
      .then(function(names) {
        names.forEach(function(name) {
          var li = document.createElement("li");
          li.innerHTML = name;
          xNamelist.appendChild(li);
        });
      });
  });
  
  //fetch('javascript') 뜻은 웹브라우저야! js라는 파일을 서버에게 요청해줘와 같은 뜻임
</script>

</body>
</html>
















